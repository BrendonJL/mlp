
---
id: "2025-12-28"
aliases: []
tags:
  - daily-notes
created: 2025-12-28 18:10
---
# üìÖ Sunday, December 28, 2025

> _Week 52 of 2025_

## üéØ Today's Goals

- [x] Initialize PostgreSQL database for experiment tracking
- [x] Create database user and database
- [x] Test database connection from Python
- [ ] Design database schema (moved to next session)

## ‚úÖ What I Accomplished

- [x] Installed PostgreSQL server and client tools via dnf ‚úÖ 2025-12-28
- [x] Initialized PostgreSQL database cluster and started service ‚úÖ 2025-12-28
- [x] Installed psycopg2-binary Python adapter via Poetry ‚úÖ 2025-12-28
- [x] Created PostgreSQL user `mario_rl_user` with password ‚úÖ 2025-12-28
- [x] Created database `mario_rl_db` owned by project user ‚úÖ 2025-12-28
- [x] Configured PostgreSQL authentication (pg_hba.conf) for password auth ‚úÖ 2025-12-28
- [x] Successfully connected to database from Python ‚úÖ 2025-12-28
- [x] Executed first SQL query (SELECT version()) ‚úÖ 2025-12-28
- [x] Configured Obsidian Daily Notes plugin with Templater ‚úÖ 2025-12-28

## üß† What I Learned

- **SQL Basics**: SQL reads like plain English - keywords like CREATE, USER, DATABASE
- **SQL Syntax**: Commands end with semicolons, can span multiple lines, case-insensitive keywords
- **PostgreSQL Authentication Methods**:
  - `ident`: Requires system username to match database username
  - `peer`: Similar to ident for Unix socket connections
  - `md5`: Password-based authentication (what we configured)
- **System vs. Project Dependencies**:
  - PostgreSQL server: System-level infrastructure (installed via dnf)
  - psycopg2: Project-level Python library (installed via Poetry)
  - Analogy: Server = restaurant kitchen (system), client library = ordering app (project)
- **Installing vs. Importing in Python**:
  - Installing (`poetry add`): Adds package to virtual environment (one-time)
  - Importing (`import package`): Loads package into Python script (every script)
  - Packages are installed once but imported in each script that uses them
- **Python Database Workflow**:
  1. Import psycopg2
  2. Create connection: `conn = psycopg2.connect(...)`
  3. Create cursor: `cur = conn.cursor()`
  4. Execute query: `cur.execute("SQL")`
  5. Fetch results: `cur.fetchone()` / `cur.fetchall()`
  6. Close cursor and connection: `cur.close()`, `conn.close()`
- **Silent Success Principle**: Python operations often return nothing on success, only error on failure
- **Connection Strings**: Can use either format:
  - String format: `"dbname=db user=user host=localhost password=pass"`
  - Keyword args: `dbname='db', user='user', host='localhost', password='pass'`
- **Obsidian + Templater**: Can auto-process templates on daily note creation

## üí° Challenges & Solutions

- **Challenge**: `psycopg2.OperationalError: Ident authentication failed for user "mario_rl_user"`
- **Solution**: Edited `/var/lib/pgsql/data/pg_hba.conf` to change authentication method from `ident`/`peer` to `md5` for local connections, then ran `sudo systemctl reload postgresql` to apply changes

- **Challenge**: Confusion between system packages (dnf) vs. project packages (Poetry)
- **Solution**: Learned the distinction - infrastructure goes system-wide, language libraries go in project virtual environments

- **Challenge**: Forgot to import psycopg2 before using it (NameError)
- **Solution**: Remember that every Python script starts fresh - must import packages even if installed

- **Challenge**: Mixed up SQL semicolons with Python syntax
- **Solution**: SQL requires semicolons to end statements, Python doesn't use them

- **Challenge**: Templater commands not processing in Obsidian daily notes
- **Solution**: Enabled "Trigger Templater on new file creation" in Templater settings

## üîú Tomorrow's Focus

- [x] Design database schema for experiment tracking üìÖ 2025-12-29 ‚úÖ 2025-12-29
- [x] Create tables for experiments, hyperparameters, and metrics üìÖ 2025-12-29 ‚úÖ 2025-12-29
- [ ] Begin exploring gym-super-mario-bros environment
- [ ] Consider starting Weights & Biases setup

## üîó Links & Context

- [[ProjectDocumentation]] - Updated Phase 1 progress (database setup complete)
- [[2025-12-27|Yesterday]] - Installed Python ML dependencies
- [[2025-12-29|Tomorrow]]
- Database: `mario_rl_db` on localhost:5432
- Database user: `mario_rl_user`
- Virtual environment: `mario-rl-agent-py3.14`

## üíª Code/Commands Used

```bash
# PostgreSQL installation
sudo dnf install postgresql postgresql-server
sudo postgresql-setup --initdb
sudo systemctl start postgresql
sudo systemctl enable postgresql

# Python adapter
poetry add psycopg2-binary

# Create database user (in psql as postgres user)
sudo -u postgres psql
CREATE USER mario_rl_user WITH PASSWORD 'Bingbongbing123!';
CREATE DATABASE mario_rl_db WITH OWNER mario_rl_user;
\q

# Configure authentication
sudo nano /var/lib/pgsql/data/pg_hba.conf
# Changed: ident/peer ‚Üí md5 for local connections
sudo systemctl reload postgresql
```

```python
# Python database connection test
import psycopg2

# Connect to database
conn = psycopg2.connect(
    dbname='mario_rl_db',
    user='mario_rl_user',
    host='localhost',
    password='Bingbongbing123!'
)

# Create cursor and execute query
cur = conn.cursor()
cur.execute("SELECT version();")
result = cur.fetchone()
print(result)

# Cleanup
cur.close()
conn.close()
```

## üìù Notes

Solid progress on Phase 1 database setup! This was my first experience with SQL and PostgreSQL, and the learning curve was steep but manageable with step-by-step guidance.

**Key insight**: The distinction between system-level services (PostgreSQL server) and project-level libraries (psycopg2) is fundamental to understanding how modern applications are built. This pattern applies across the stack - Redis, MongoDB, Docker, etc. all follow the same principle.

**Authentication troubleshooting** was a valuable lesson in reading error messages and understanding configuration files. The `pg_hba.conf` file controls how PostgreSQL verifies identity, and changing from ident to md5 authentication allows password-based connections from application code.

**Next session** will focus on schema design - deciding what experiment metadata to track, how to structure tables for hyperparameters and results, and creating the actual database tables. This is where the project starts to take shape as an ML experiment tracking system.

**Connection to cybersecurity goals**: PostgreSQL skills translate directly to SIEM data storage, threat intelligence databases, and incident tracking systems. Understanding authentication, user permissions, and database design are foundational for security operations infrastructure.

_Good evening! Start of day 6:10 PM_
[[daily]]
